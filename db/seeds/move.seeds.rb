# frozen_string_literal: true

[{
  name: 'Manipulate Someone',
  rating: 'charm',
  six_and_under: "Failure. Keeper's choice.",
  seven_to_nine: 'On a 7-9, they’ll do it, but only if
you do something for them right
now to show that you mean it. If
you asked too much, they’ll tell
you what, if anything, it would
take for them to do it.',
  ten_plus: 'On a 10+, then they’ll do it for
the reason you gave them. If you
asked too much, they’ll tell you the
minimum it would take for them
to do it (or if there’s no way they’d
do it).',
  twelve_plus: 'On a 12+ not only do
they do what you want right now,
they also become your ally for the
rest of the mystery (or, if you do
enough for them, permanently).'
},
 {
   name: 'Act Under Pressure',
   rating: 'cool',
   six_and_under: "Failure. Keeper's choice.",
   seven_to_nine: 'On a 7-9 the Keeper is going to give
you a worse outcome, hard choice, or
price to pay.',
   ten_plus: 'On a 10+ you do what you set out to.',
   twelve_plus: 'On a 12+ you may
choose to either do what you wanted
and something extra, or to do what you
wanted to absolute perfection.'
 },
 {
   name: 'Help Out',
   rating: 'cool',
   six_and_under: "Failure. Keeper's choice.",
   seven_to_nine: 'On a 7-9 your help grants them +1 to
their roll, but you also expose yourself
to trouble or danger.',
   ten_plus: 'On a 10+ your help grants them +1
to their roll.',
   twelve_plus: 'On a 12+ your help
lets them act as if they just rolled a 12,
regardless of what they actually got.'
 },
 {
   name: 'Investigate a Mystery',
   rating: 'sharp',
   six_and_under: "Failure. Keeper's choice.",
   seven_to_nine: 'You can ask the
Keeper one of the following questions:
• What happened here?
• What sort of creature is it?
• What can it do?
• What can hurt it?
• Where did it go?
• What was it going to do?
• What is being concealed here?',
   ten_plus: 'You can ask the
Keeper two of the following questions:
• What happened here?
• What sort of creature is it?
• What can it do?
• What can hurt it?
• Where did it go?
• What was it going to do?
• What is being concealed here?',
   twelve_plus: 'On a 12+, you may ask the
Keeper any two questions you want about the
mystery, not just the listed ones.'
 },
 {
   name: 'Read a Bad Situation',
   rating: 'sharp',
   six_and_under: "Failure. Keeper's choice.",
   seven_to_nine: 'Ask the
Keeper one of the following questions:
• What’s my best way in?
• What’s my best way out?
• Are there any dangers we haven’t
noticed?
• What’s the biggest threat?
• What’s most vulnerable to me?
• What’s the best way to protect the
victims?
If you act on the answers, you get +1
ongoing while the information is relevant.',
   ten_plus: 'Ask the
Keeper any three of the following questions:
• What’s my best way in?
• What’s my best way out?
• Are there any dangers we haven’t
noticed?
• What’s the biggest threat?
• What’s most vulnerable to me?
• What’s the best way to protect the
victims?
If you act on the answers, you get +1
ongoing while the information is relevant.',
   twelve_plus: 'You may ask the keeper any three any question you want about
the situation, not just the listed ones. If you act on the answers, you get +1
ongoing while the information is relevant.'
 },
 {
   name: 'Kick some Ass',
   rating: 'tough',
   six_and_under: 'Failure. You take a beating.',
   seven_to_nine: 'You and whatever you’re
fighting inflict harm on each other. The
amount of harm is based on the established dangers in the game. That usually
means you inflict the harm rating of
your weapon and your enemy inflicts
their attack’s harm rating on you.',
   ten_plus: 'You and whatever you’re
fighting inflict harm on each other. The
amount of harm is based on the established dangers in the game. That usually
means you inflict the harm rating of
your weapon and your enemy inflicts
their attack’s harm rating on you.
On a 10+, choose one extra effect:
• You gain the advantage: take +1
forward, or give +1 forward to
another hunter.
• You inflict terrible harm (+1
harm).
• You suffer less harm (-1 harm).
• You force them where you want
them.',
   twelve_plus: 'You and whatever you’re
fighting inflict harm on each other. The
amount of harm is based on the established dangers in the game. That usually
means you inflict the harm rating of
your weapon and your enemy inflicts
their attack’s harm rating on you.
On a 12+ instead pick
an enhanced effect:
• You completely hold the advantage. All hunters involved in the
fight get +1 forward.
• You suffer no harm at all.
• Your attack inflicts double the
normal harm.
• Your attack drives the enemy away
in a rout.'
 },
 {
   name: 'Protect Someone',
   rating: 'tough',
   six_and_under: "Failure. You fail to preotect them,
   and you expose yourself to danger.",
   seven_to_nine: 'You protect them okay, but
you’ll suffer some or all of the harm they
were going to get. ',
   ten_plus: 'You protect them okay, but
you’ll suffer some or all of the harm they
were going to get. Choose an extra:
• You suffer little harm (-1 harm).
• All impending danger is now
focused on you.
• You inflict harm on the enemy.
• You hold the enemy back.',
   twelve_plus: 'Both you and
the character you are protecting are
unharmed and out of danger. If you
were protecting a bystander, they also
become your ally.'
 },
 {
   name: 'Use Magic',
   rating: 'weird',
   six_and_under: "Failure. Keeper's choice. It is always bad.",
   seven_to_nine: 'It works imperfectly: choose
your effect and a glitch. The Keeper will
decide what effect the glitch has.
Effects:
• Inflict harm (1-harm ignorearmour magic obvious).
• Enchant a weapon. It gets +1 harm
and +magic.
• Do one thing that is beyond
human limitations.
• Bar a place or portal to a specific
person or a type of creature.
• Trap a specific person, minion, or
monster.
• Banish a spirit or curse from the
person, object, or place it inhabits.
• Summon a monster into the world.
• Communicate with something
that you do not share a language
with.
• Observe another place or time.
• Heal 1-harm from an injury, or
cure a disease, or neutralize a
poison.
Glitches:
• The effect is weakened.
• The effect is of short duration.
• You take 1-harm ignore-armour.
• The magic draws immediate,
unwelcome attention.
• It has a problematic side effect.',
   ten_plus: 'The magic works without
issues: choose your effect.
• Inflict harm (1-harm ignorearmour magic obvious).
• Enchant a weapon. It gets +1 harm
and +magic.
• Do one thing that is beyond
human limitations.
• Bar a place or portal to a specific
person or a type of creature.
• Trap a specific person, minion, or
monster.
• Banish a spirit or curse from the
person, object, or place it inhabits.
• Summon a monster into the world.
• Communicate with something
that you do not share a language
with.
• Observe another place or time.
• Heal 1-harm from an injury, or
cure a disease, or neutralize a
poison.',
   twelve_plus: 'The Keeper
will offer you some added benefit.
The magic works without
issues: choose your effect.
• Inflict harm (1-harm ignorearmour magic obvious).
• Enchant a weapon. It gets +1 harm
and +magic.
• Do one thing that is beyond
human limitations.
• Bar a place or portal to a specific
person or a type of creature.
• Trap a specific person, minion, or
monster.
• Banish a spirit or curse from the
person, object, or place it inhabits.
• Summon a monster into the world.
• Communicate with something
that you do not share a language
with.
• Observe another place or time.
• Heal 1-harm from an injury, or
cure a disease, or neutralize a
poison.'
 }].each do |move|
  Moves::Basic.find_or_create_by(move)
end

after :playbook do
  ######
  # Playbook Moves
  # ratings: charm: 0, cool: 1, sharp: 2, tough: 3, weird: 4
  ######

  ######
  # Chosen
  ######
  chosen = Playbook.find 1
  [{
    name: "Destiny's Plaything",
    rating: :weird,
    six_and_under: 'On a miss, something bad is going to happen to you.',
    seven_to_nine: 'On
  a 7-9 you get a vague hint about the coming mystery.',
    ten_plus: "On a 10+, the Keeper will
  reveal a useful detail about the coming mystery.",
    type: 'Moves::Rollable',
    playbook_id: chosen.id,
    description: 'At the beginning of each
  mystery, roll +Weird to see what is revealed about
  your immediate future.'
  },
   {
     name: 'I’m Here For A Reason',
     type: 'Moves::Descriptive',
     playbook_id: chosen.id,
     description: 'There’s something you are
  destined to do. Work out the details with the Keeper,
  based on your fate. You cannot die until it comes
  to pass. If you die in play, then you must spend a
  Luck point. You will then, somehow, recover or be
  returned to life. Once your task is done (or you use
  up all your Luck), all bets are off.'
   },
   {
     name: 'The Big Entrance',
     rating: :cool,
     six_and_under: 'On a miss, you’re marked as the
  biggest threat by all enemies who are present.',
     seven_to_nine: 'On a 7-9, you pick one
  person or monster to stop, watch and listen until
  you finish talking.',
     ten_plus: 'On 10+ everyone stops to watch and listen until you
  finish your opening speech.',
     type: 'Moves::Rollable',
     playbook_id: chosen.id,
     description: 'When you make a showy
  entrance into a dangerous situation, roll +Cool.'
   },
   {
     name: 'Devastating',
     type: 'Moves::Descriptive',
     playbook_id: chosen.id,
     description: 'When you inflict harm, you may
  inflict +1 harm.'
   },
   {
     name: 'Dutiful',
     type: 'Moves::Descriptive',
     playbook_id: chosen.id,
     description: 'When your fate rears its ugly head, and
  you act in accordance with any of your fate tags
  (either heroic or doom) then mark experience. If it’s
  a heroic tag, take +1 forward'
   },
   {
     name: 'Invincible',
     type: 'Moves::Descriptive',
     playbook_id: chosen.id,
     description: 'You always count as having 2-armour.
  This doesn’t stack with other protection.'
   },
   {
     name: 'Resilience',
     type: 'Moves::Descriptive',
     playbook_id: chosen.id,
     description: 'You heal faster than normal people. Any
  time your harm gets healed, heal an extra point.
  Additionally, your wounds count as 1-harm less for
  the purpose of the Keeper’s harm moves.'
   }].each do |move|
    Move.find_or_create_by(move)
  end
end
